<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns:beans="http://www.springframework.org/schema/beans"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:int="http://www.springframework.org/schema/integration"
             xmlns:ix= "http://www.springframework.org/schema/integration/xml"
             xmlns:util="http://www.springframework.org/schema/util"
             xmlns:context="http://www.springframework.org/schema/context"
             xmlns:int-ws="http://www.springframework.org/schema/integration/ws"
             xmlns:ws="http://www.springframework.org/schema/web-services"
             xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/integration	http://www.springframework.org/schema/integration/spring-integration.xsd
       http://www.springframework.org/schema/integration/xml	http://www.springframework.org/schema/integration/xml/spring-integration-xml.xsd
       http://www.springframework.org/schema/util		http://www.springframework.org/schema/util/spring-util.xsd
       http://www.springframework.org/schema/context       http://www.springframework.org/schema/context/spring-context.xsd
       http://www.springframework.org/schema/integration/ws    http://www.springframework.org/schema/integration/ws/spring-integration-ws.xsd
       http://www.springframework.org/schema/web-services      http://www.springframework.org/schema/web-services/web-services.xsd
   ">

    <!-- Sprint Integration gateway АМРЛиРТ "Расчет лимитов" -->
    <int-ws:inbound-gateway id="WS-AMRLiRTCalculateLimits"
                            reply-channel="AMRLIRT.KKMB.CALCULATE.LIMITS.RESPONSE"
                            request-channel="AMRLIRT.KKMB.CALCULATE.LIMITS.REQUEST"
                            reply-timeout="30000"
    />

    <!-- Входной и выходной каналы для ws АМРЛиРТ "Расчет лимитов" -->
    <int:channel id="AMRLIRT.KKMB.CALCULATE.LIMITS.REQUEST">
        <int:interceptors>
            <int:wire-tap channel="toGateLoggerAMRLiRTCalculateLimits"/>
        </int:interceptors>
    </int:channel>

    <int:channel id="AMRLIRT.KKMB.CALCULATE.LIMITS.RESPONSE">
        <int:interceptors>
            <int:wire-tap channel="fromGateLoggerAMRLiRTCalculateLimits"/>
        </int:interceptors>
    </int:channel>

    <!-- настройка логгеров2 -->
    <int:logging-channel-adapter id="fromGateLoggerAMRLiRTCalculateLimits" logger-name="fromGateLoggerAMRLiRTCalculateLimits"/>
    <int:logging-channel-adapter id="toGateLoggerAMRLiRTCalculateLimits" logger-name="toGateLoggerAMRLiRTCalculateLimits"/>

    <beans:bean id="AMRLiRT_CalculateLimits" class="ru.sbt.bpm.mock.bean.RefreshableXSLTransformer">
        <beans:property name="xslPath" value="/WEB-INF/xsl/AMRLiRT/CalculateLimits.xsl"/>
    </beans:bean>

    <int:transformer input-channel="AMRLIRT.KKMB.CALCULATE.LIMITS.REQUEST" output-channel="AMRLIRT.KKMB.CALCULATE.LIMITS.RESPONSE" method="transform" ref="AMRLiRT_CalculateLimits"/>

</beans:beans>